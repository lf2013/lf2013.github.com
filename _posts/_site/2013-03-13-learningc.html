<h2 id='id22'>目标</h2>

<p>白话C，最短时间内写出简单C程序. <strong>基础篇</strong></p>

<h2 id='id23'>关键字</h2>

<ul>
<li>1.变量</li>

<li>2.控制结构</li>

<li>3.函数</li>

<li>4.编程风格</li>
</ul>
<hr />
<h3 id='c'>从一段C程序说起</h3>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span>
</code></pre></div>
<p>这是一个<strong>函数</strong>，main是函数名;int是返回值，表示返回整型值；return 0;表示返回0.</p>

<p>C是一个<strong>面向过程</strong>的语言，程序是有函数构成，至少有一个函数main，它是程序的入口。用户可以自己定义函数，程序可以相互调用，实现功能。函数是由<strong>语句</strong>构成的，并约束在{ }间，<em>语句要以分号结尾</em>.</p>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Hello, world</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span><span class='c1'>//调用函数printf输出&quot;Hello, world&quot;</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span>
</code></pre></div><hr />
<h3 id='id24'>变量</h3>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span><span class='p'>;</span> <span class='c1'>//定义变量a</span>
		<span class='n'>a</span> <span class='o'>=</span> <span class='mi'>3</span><span class='p'>;</span> <span class='c1'>//对a赋值为3  这两句等价于 int a = 3;</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span>
</code></pre></div>
<h4 id='id25'>命名规则</h4>

<p>函数名和变量名要满足规则：<strong>以字母下划线为开头可以混合数字;但不可是关键字(C里的语句如:if while for..)</strong></p>

<h4 id='_char_short_int_long_float_double'>变量类型： char short int long ;float double;</h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>char</span> <span class='n'>a</span> <span class='o'>=</span> <span class='sc'>&#39;x&#39;</span><span class='p'>;</span>
		<span class='kt'>short</span> <span class='n'>b</span> <span class='o'>=</span> <span class='mi'>123</span><span class='p'>;</span>
		<span class='kt'>int</span> <span class='n'>c</span> <span class='o'>=</span> <span class='mi'>12345</span><span class='p'>;</span>
		<span class='kt'>float</span> <span class='n'>f</span> <span class='o'>=</span> <span class='mf'>123.4</span><span class='p'>;</span>
		<span class='kt'>double</span> <span class='n'>d</span> <span class='o'>=</span> <span class='mf'>1234324.2342</span><span class='p'>;</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span>
</code></pre></div><hr />
<h3 id='id26'>控制结构：顺序、分支、循环</h3>

<blockquote>
<p>顺序结构即自然的顺序执行结构，是C默认执行的顺序。 分支结构是判断条件，来改变程序的执行顺序的。 循环结构是给定 初始值，终止条件，迭代值，来重复执行。</p>
</blockquote>

<h4 id='_'>分支结构的实现 <code>if</code></h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span><span class='p'>;</span> 		<span class='c1'>//定义变量a</span>
		<span class='n'>a</span> <span class='o'>=</span> <span class='mi'>3</span><span class='p'>;</span>		   <span class='c1'>//对a赋值为3  这两句等价于 int a = 3;</span>
		<span class='k'>if</span><span class='p'>(</span><span class='n'>a</span> <span class='o'>&gt;</span> <span class='mi'>0</span><span class='p'>){</span>		<span class='c1'>//判断条件，满足a &gt; 0来执行</span>
			<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a 为正数</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>
		<span class='p'>}</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span> 
</code></pre></div>
<h4 id='__'>分支结构的实现 <code>if</code> <code>else</code></h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span> <span class='o'>=</span> <span class='mi'>3</span><span class='p'>;</span> 
		<span class='k'>if</span><span class='p'>(</span><span class='n'>a</span> <span class='o'>&gt;</span> <span class='mi'>0</span><span class='p'>){</span>		<span class='c1'>//判断条件，是正数</span>
			<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a 为正数</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>
		<span class='p'>}</span>
		<span class='k'>else</span><span class='p'>{</span>		<span class='c1'>//不满足条件，是负数</span>
			<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a 为负数</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>
		<span class='p'>}</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span> 
</code></pre></div>
<h4 id='___'>分支结构的实现 <code>if</code> <code>else if</code> <code>else</code></h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span> <span class='o'>=</span> <span class='mi'>3</span><span class='p'>;</span> 
		<span class='k'>if</span><span class='p'>(</span><span class='n'>a</span> <span class='o'>&gt;</span> <span class='mi'>0</span><span class='p'>){</span>			<span class='c1'>//判断条件，是正数</span>
			<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a 为正数</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>
		<span class='p'>}</span>
		<span class='k'>else</span> <span class='k'>if</span><span class='p'>(</span><span class='n'>a</span> <span class='o'>&lt;</span> <span class='mi'>0</span><span class='p'>){</span>		<span class='c1'>//判断条件，是负数</span>
			<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a 为负数</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>
		<span class='p'>}</span><span class='k'>else</span><span class='p'>{</span>				<span class='c1'>//非负非正为0</span>
			<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a 为0</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>
		<span class='p'>}</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span> 
</code></pre></div>
<p>注意此例中的那些{},它们是成对出现的，表示代码块，若满足条件，均会执行。若只有一条语句，可以省略。</p>

<h4 id='_'>分支结构的实现 <code>switch</code>实现分支结构</h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span>
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span> <span class='o'>=</span> <span class='mi'>3</span><span class='p'>;</span>
		<span class='k'>switch</span><span class='p'>(</span><span class='n'>a</span><span class='p'>){</span>		<span class='c1'>//switch的判断数a必须是整型(char short int long)</span>
			<span class='k'>case</span> <span class='mi'>2</span>: <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a == 2</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span> <span class='k'>break</span><span class='p'>;</span> <span class='c1'>// 若a==2，则输出</span>
			<span class='k'>case</span> <span class='mi'>3</span>: <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;a == 3</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span> <span class='k'>break</span><span class='p'>;</span> <span class='c1'>// 若a==3，则输出</span>
			<span class='nl'>default:</span> <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;not 3 nor 2</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>);</span>  <span class='c1'>//以上均不满足，则输出</span>
		<span class='p'>}</span>
	<span class='p'>}</span>
</code></pre></div>
<p>case 可以有任意多个，要点是注意每个case以break结束，因为一个case 满足执行后并不会主动退出switch,而是顺序向下判断之后的case.而情况往往是满足一个case就退出switch,这时就要记得加<strong>break</strong>.</p>
<hr />
<h4 id='_for'>循环结构的实现 for</h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span><span class='p'>,</span> <span class='n'>i</span><span class='p'>;</span> <span class='c1'>//定义变量a, i</span>
		<span class='n'>a</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span> 
		<span class='k'>for</span><span class='p'>(</span><span class='n'>i</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span><span class='n'>i</span> <span class='o'>&lt;</span> <span class='mi'>10</span><span class='p'>;</span> <span class='n'>i</span><span class='o'>++</span><span class='p'>){</span>
			<span class='n'>a</span> <span class='o'>=</span> <span class='n'>a</span> <span class='o'>+</span> <span class='n'>i</span><span class='p'>;</span>
		<span class='p'>}</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span> 
</code></pre></div>
<h4 id='_while'>循环结构的实现 while</h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span><span class='p'>,</span> <span class='n'>i</span><span class='p'>;</span> <span class='c1'>//定义变量a, i</span>
		<span class='n'>a</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span> 
		<span class='k'>while</span><span class='p'>(</span><span class='n'>i</span> <span class='o'>&lt;</span> <span class='mi'>10</span><span class='p'>){</span>
			<span class='n'>i</span><span class='o'>++</span><span class='p'>;</span>
			<span class='n'>a</span> <span class='o'>=</span> <span class='n'>a</span> <span class='o'>+</span> <span class='n'>i</span><span class='p'>;</span>
		<span class='p'>}</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span> 
</code></pre></div>
<h4 id='_dowhile'>循环结构的实现 do-while</h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span> 
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>a</span><span class='p'>,</span> <span class='n'>i</span><span class='p'>;</span> <span class='c1'>//定义变量a, i</span>
		<span class='n'>a</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span> 
		<span class='k'>do</span><span class='p'>{</span>
			<span class='n'>a</span> <span class='o'>=</span> <span class='n'>a</span> <span class='o'>+</span> <span class='n'>i</span><span class='p'>;</span>
			<span class='n'>i</span><span class='o'>++</span><span class='p'>;</span>
		<span class='p'>}</span><span class='k'>while</span><span class='p'>(</span><span class='n'>i</span> <span class='o'>&lt;</span> <span class='mi'>10</span><span class='p'>);</span>		<span class='c1'>//不要忘记分号</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span> 
</code></pre></div><hr />
<h4 id='_'><em>函数</em> 定义及调用</h4>
<div class='highlight'><pre><code class='c'>	<span class='kt'>float</span> <span class='nf'>caculateArea</span><span class='p'>(</span><span class='kt'>float</span> <span class='n'>r</span><span class='p'>)</span><span class='c1'>//定义计算面积函数caculateArea，以float(浮点型)为参数，返回float型</span>
	<span class='p'>{</span>
		<span class='k'>return</span> <span class='n'>r</span> <span class='o'>*</span> <span class='n'>r</span> <span class='o'>*</span> <span class='mf'>3.14</span><span class='p'>;</span>
	<span class='p'>}</span>
	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span>
	<span class='p'>{</span>
		<span class='kt'>float</span> <span class='n'>radius</span> <span class='o'>=</span> <span class='mi'>2</span><span class='p'>;</span>	
		<span class='kt'>float</span> <span class='n'>area</span> <span class='o'>=</span> <span class='n'>caculateArea</span><span class='p'>(</span><span class='n'>radius</span><span class='p'>);</span> <span class='cm'>/*调用函数,传参radius，radius是实参，</span>
<span class='cm'>											替代r来让函数caculateArea计算并返回面积*/</span>
		<span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;The area is %f</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>,</span> <span class='n'>area</span><span class='p'>);</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='p'>}</span>
</code></pre></div><hr />
<h3 id='id27'>编程风格</h3>

<h5 id='id28'>注释</h5>

<pre><code>注释有两种形式(// 和 /**/)，//使用于单行注释；而/**/使用于多行注释，从第一个/*到第一个*/之间的内容均为注释，编译时直接当**空格**处理。
来一个极端的例子</code></pre>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span>
	<span class='p'>{</span>
		<span class='kt'>int</span> <span class='n'>x</span><span class='cm'>/**/</span><span class='n'>y</span><span class='p'>;</span><span class='c1'>//有错么？</span>
		<span class='kt'>int</span> <span class='n'>a</span><span class='cm'>/* b;</span>
<span class='cm'>		float c d;*/</span> 
		<span class='p'>;</span>
		<span class='k'>return</span> <span class='mi'>0</span><span class='p'>;</span>
	<span class='c1'>//如果没错定义了几个变量呢？</span>
	<span class='p'>}</span>
</code></pre></div>
<h5 id='id29'>缩进</h5>

<pre><code>C是一种自由格式的语言，并没有规则要求怎样书写，但是遵循一定约定，可以使代码易读易修改。
再来一个极端的例子</code></pre>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>max</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>a</span><span class='p'>,</span><span class='kt'>int</span> <span class='n'>b</span><span class='p'>,</span><span class='kt'>int</span> <span class='n'>c</span><span class='p'>){</span><span class='k'>if</span><span class='p'>(</span><span class='n'>a</span><span class='o'>&gt;</span><span class='n'>b</span><span class='p'>)</span><span class='k'>if</span><span class='p'>(</span><span class='n'>a</span><span class='o'>&gt;</span><span class='n'>c</span><span class='p'>)</span><span class='k'>return</span> <span class='n'>a</span><span class='p'>;</span><span class='k'>else</span> <span class='k'>return</span> <span class='n'>c</span><span class='p'>;</span><span class='k'>else</span> <span class='k'>return</span> <span class='n'>b</span><span class='p'>;}</span>
</code></pre></div><div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>max</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>a</span><span class='p'>,</span><span class='kt'>int</span> <span class='n'>b</span><span class='p'>,</span><span class='kt'>int</span> <span class='n'>c</span><span class='p'>){</span>
		<span class='k'>if</span><span class='p'>(</span><span class='n'>a</span><span class='o'>&gt;</span><span class='n'>b</span><span class='p'>)</span>	
			<span class='k'>if</span><span class='p'>(</span><span class='n'>a</span><span class='o'>&gt;</span><span class='n'>c</span><span class='p'>)</span>	
				<span class='k'>return</span> <span class='n'>a</span><span class='p'>;</span>
			<span class='k'>else</span> <span class='k'>return</span> <span class='n'>c</span><span class='p'>;</span>
		<span class='k'>else</span> <span class='k'>return</span> <span class='n'>b</span><span class='p'>;</span>
	<span class='p'>}</span>
</code></pre></div>
<p>以上两个程序均返回3个值里的最大值，缩进的威力应该显然。所以保持好的编程风格大有裨益。</p>
<hr />
<h3 id='id30'>小结，有码有真相</h3>

<pre><code>写一个计算出500到1000以内有多少素数，并求这些素数的和。</code></pre>
<div class='highlight'><pre><code class='c'>	<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>()</span>
	<span class='p'>{</span>
		<span class='p'>...</span><span class='c1'>//代码下期给出	</span>
	<span class='p'>}</span>
</code></pre></div>
<p><a href='/HeadStream/Tutorial/How-to/2013/03/16/learningc2/'>答案戳这里</a></p>